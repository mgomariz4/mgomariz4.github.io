
<!DOCTYPE html>
<html lang="ca">
<head>
  <!-- ======================================================================
       CAPÇALERA DEL DOCUMENT: Aquí definim les metadades, les llibreries i els estils que 
       s'aplicaran a tota la pàgina.
       ====================================================================== -->

  <!-- Declarem que el document utilitza la codificació UTF-8 per suportar caràcters especials. -->
  <meta charset="UTF-8">
  
  <!-- Aquest meta etiqueta assegura que la pàgina s'adapta a la mida de qualsevol dispositiu i 
       evita que l'usuari pugui ampliar o reduir la vista manualment (user-scalable=no). -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <!-- Defineix el títol que es mostrarà a la pestanya del navegador. -->
  <title>Art Facial Responsiu</title>
  
  <!-- Importem la llibreria p5.js des d'una CDN. Aquesta llibreria ens facilita la creació d'animacions i gràfics -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.3/p5.js"></script>
  
  <!-- Importem la llibreria ml5.js que utilitza models d'aprenentatge automàtic, incloent la detecció facial -->
  <script src="https://cdn.jsdelivr.net/gh/ml5js/Intro-ML-Arts-IMA@ml5-build-10-7-19/ml5_build/ml5.min.js"></script>
  
  <!-- ======================================================================
       ESTILS CSS: Aquí definim com es veurà la pàgina: colors, mides, fonts, etc.
       ====================================================================== -->
  <style>
    /* Estil per al cos de la pàgina */
    body {
      margin: 0;              /* Elimina el marge per defecte del navegador. */
      padding: 0;             /* Elimina el farcit per defecte del navegador. */
      overflow: hidden;       /* No permet el desplaçament per scroll si el contingut és més gran. */
      touch-action: none;     /* Deshabilita accions típiques del tacte per gestionar-les manualment. */
      background: #f0f0f0;     /* Defineix un color de fons clar per a tota la pàgina. */
    }

    /* Estil per a la pantalla de càrrega que es mostra mentre es carreguen els models */
    #loading-screen {
      position: fixed;              /* Aquesta pantalla roman fixa sobre tot el contingut. */
      top: 0;                       /* La seva posició comença a la part superior. */
      left: 0;                      /* La seva posició comença a l'esquerra. */
      width: 100%;                  /* Ocupa el 100% de l'amplada de la finestra. */
      height: 100%;                 /* Ocupa el 100% de l'alçada de la finestra. */
      background: rgba(255,255,255,0.95); /* Fons blanc lleugerament transparent. */
      display: flex;                /* Utilitza flexbox per centrar el contingut. */
      flex-direction: column;       /* Organitza els elements en columna. */
      justify-content: center;      /* Centra verticalment el contingut. */
      align-items: center;          /* Centra horitzontalment el contingut. */
      font-family: Arial, sans-serif; /* Defineix la font per al text. */
      z-index: 1000;               /* Assegura que aquesta capa està per sobre de tots els altres elements. */
    }

    /* Estils per a l'indicador d'espera (loader) */
    .loader {
      width: 40px;                         /* Amplada del loader. */
      height: 40px;                        /* Alçada del loader. */
      border: 5px solid #3498db;           /* Defineix una vora amb color blau. */
      border-top-color: transparent;       /* Fa la part superior transparent per a l'efecte de girar. */
      border-radius: 50%;                  /* Fa que el loader tingui forma circular. */
      animation: spin 1s linear infinite;  /* Aplica una animació de gir contínua. */
    }

    /* Defineix l'animació 'spin' que gira el loader */
    @keyframes spin {
      to { transform: rotate(360deg); }    /* Al final de l'animació, gira 360 graus. */
    }

    /* Estils per al text dins de la pantalla de càrrega */
    #loading-screen p {
      margin-top: 15px;       /* Afageix un espai (marge) per sobre del text. */
      font-size: 1.1em;       /* Incrementa lleugerament la mida de la lletra. */
      color: #333;            /* Defineix un color gris fosc per al text. */
    }
  </style>
</head>
<body>
  <!-- ======================================================================
       COS DEL DOCUMENT: Aquí col·locarem els elements que es mostraran a la pàgina.
       ====================================================================== -->

  <!-- Div que conté la pantalla de càrrega mostrada mentre es carreguen els models -->
  <div id="loading-screen">
    <div class="loader"></div> <!-- Element que mostra l'animació giratòria. -->
    <p>Carregant models...</p>  <!-- Missatge que informa a l'usuari que s'estan carregant els models. -->
  </div>

  <!-- ======================================================================
       SCRIPT JavaScript: Aquí definim el comportament i la interacció de la pàgina.
       ====================================================================== -->
  <script>
    // Declarem variables globals que utilitzarem en tot el nostre codi.
    let faceapi,         // Aquesta variable guardarà el model de detecció facial.
        detections = [], // Aquí s'emmagatzemaran els resultats de les deteccions facials.
        video;           // Aquesta variable contindrà la captura de vídeo de la càmera.

    let modelsReady = false; // Indica si els models d'aprenentatge automàtic s'han carregat completament.
    const VIRTUAL_W = 800, VIRTUAL_H = 600;  // Definim dimensions virtuals per al disseny responsive.
    
    // Objecte que emmagatzema l'expressió facial actual: emoció dominant i la seva intensitat.
    let currentExpression = { dominant: 'neutral', intensity: 0 };

    // La funció setup() s'executa una sola vegada quan la pàgina es carrega.
    function setup() {
      // Creem un canvas que ocuparà tota la finestra del navegador.
      const canvas = createCanvas(windowWidth, windowHeight);
      // Configurem el canvas perquè no tingui comportaments per defecte en dispositius tàctils.
      canvas.elt.style.touchAction = 'none';
      
      // Iniciem la captura del vídeo des de la càmera.
      video = createCapture(VIDEO);
      video.size(320, 240); // Defineix la mida inicial del flux de vídeo.
      video.hide();         // Amaguem la visualització per defecte del vídeo (el dibuixarem manualment).
      video.elt.muted = true;      // Silencia l'àudio del vídeo.
      video.elt.playsinline = true; // Permet que el vídeo es reprodueixi dins de la pàgina, sense pantalla completa.

      // Defineix les opcions per a la detecció facial:
      const options = {
        withLandmarks: true,     // Detecta punts clau de la cara com els ulls, nas i boca.
        withExpressions: true,   // Detecta les expressions facials (emocions).
        withDescriptors: false   // No calen descriptors facials en aquest cas.
      };
      
      // Inicialitza el model de detecció facial (faceapi) amb el vídeo i les opcions definides.
      // Quan el model estigui carregat, s'executarà la funció callback.
      faceapi = ml5.faceApi(video, options, () => {
        modelsReady = true; // Marquem que els models ja estan llestos.
        // Amaguem la pantalla de càrrega perquè el procés de càrrega ha finalitzat.
        document.getElementById('loading-screen').style.display = 'none';
        // Inicialitza la detecció facial passant-li la funció 'gotResults' com a callback.
        faceapi.detect(gotResults);
      });
    }

    // La funció windowResized() s'executa cada cop que la mida de la finestra canvia.
    function windowResized() {
      // Redimensiona el canvas per adaptar-lo a la nova mida de la finestra.
      resizeCanvas(windowWidth, windowHeight);
      // Ajusta la mida del vídeo per mantenir una resolució adequada
      video.size(max(width/4, 160), max(height/4, 120));
    }

    // Funció callback que rep els resultats de la detecció facial.
    // 'err' conté possibles errors i 'results' conté les deteccions facials.
    function gotResults(err, results) {
      if (err) {
        // Si s'ha produït un error, el mostrem a la consola i al missatge de la pantalla de càrrega.
        console.error(err);
        document.getElementById('loading-screen').innerHTML = 
          '<p style="color: red">Error! Comprova la càmera i actualitza.</p>';
        return; // Aturem l'execució si hi ha error.
      }
      // Assignem els resultats detectats a la variable global 'detections'.
      detections = results;
      // Si s'ha detectat almenys una cara, actualitzem l'expressió facial actual.
      if (detections.length > 0) updateCurrentExpression();
      // Continuem executant la detecció facial de manera contínua.
      faceapi.detect(gotResults);
    }

    // Funció que actualitza l'objecte 'currentExpression' segons la detecció facial.
    function updateCurrentExpression() {
      let maxIntensity = 0;  // Variable per emmagatzemar la intensitat màxima trobada.
      // Iterem per cada detecció (cada cara detectada).
      detections.forEach(face => {
        const expr = face.expressions; // Obtenim les expressions detectades en aquesta cara.
        // Determinem quina és l'expressió dominant (la que té més intensitat).
        const dominant = Object.keys(expr).reduce((a, b) => expr[a] > expr[b] ? a : b);
        // Si la intensitat de l'expressió dominant és superior a la màxima trobada fins ara...
        if (expr[dominant] > maxIntensity) {
          // Actualitzem l'objecte currentExpression amb aquesta nova expressió
          currentExpression = {
            dominant: dominant,
            intensity: expr[dominant]
          };
          // Actualitzem la intensitat màxima.
          maxIntensity = expr[dominant];
        }
      });
    }

    // La funció draw() s'executa contínuament (al voltant de 60 vegades per segon) per redibuixar el canvas.
    function draw() {
      background(245); // Pinta el fons del canvas amb un color molt clar (quasi blanc).

      // CALCUL SERVEIX PER ESCALAR LA DISSENY DE L'ART FACIAL:
      // Calcula el factor d'escala per adaptar el disseny virtual a la mida real del canvas.
      const scaleFactor = min(width / VIRTUAL_W, height / VIRTUAL_H);
      // Calcula el desplaçament horitzontal per centrar el disseny.
      const offsetX = (width - VIRTUAL_W * scaleFactor) / 2;
      // Calcula el desplaçament vertical per centrar el disseny.
      const offsetY = (height - VIRTUAL_H * scaleFactor) / 2;
      
      push();                // Desa l'estat actual del canvas.
      translate(offsetX, offsetY); // Trasllada l'origen del canvas als offsets calculats.
      scale(scaleFactor);           // Aplica l'escala per adaptar el disseny.
      drawArt();                    // Crida a la funció que dibuixa l'art basant-se en l'expressió.
      pop();                 // Restaura l'estat anterior del canvas.
      
      drawHUD();             // Dibuixa el Heads-Up Display (informació d'estat) sobre el canvas.
      drawVideoPreview();    // Dibuixa una petita previsualització del flux de vídeo.
    }

    // Funció per dibuixar l'art generat segons l'expressió facial detectada.
    function drawArt() {
      // Utilitza desestructuració per obtenir les propietats 'dominant' i 'intensity' de l'objecte currentExpression.
      const { dominant, intensity } = currentExpression;
      const t = frameCount * 0.05;  // Variable temporal per animacions basades en el nombre de frames.
      // Calcula les coordenades centrals per a la zona de dibuix virtual.
      const centerX = VIRTUAL_W / 2;
      const centerY = VIRTUAL_H / 2;
      // Calcula una mida base que depèn de la intensitat de l'expressió.
      const baseSize = min(VIRTUAL_W, VIRTUAL_H) * 0.3 * intensity;

      // Configura l'amplada del traç basant-se en la intensitat (més intens → traç més gruixut).
      strokeWeight(map(intensity, 0, 1, 1, 4));
      noFill(); // Per defecte, no omple les figures dibuixades.

      // Selecciona el dibuix a realitzar segons l'expressió facial dominant.
       switch (dominant) {
        case 'Gay':
          stroke(255,0,0)
beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(295, 193.1875);
curveVertex(299, 197.1875);
curveVertex(304, 201.1875);
curveVertex(311, 201.1875);
curveVertex(319, 202.1875);
curveVertex(327, 201.1875);
curveVertex(336, 198.1875);
curveVertex(342, 192.1875);
curveVertex(342, 195.1875);
curveVertex(341, 203.1875);
curveVertex(338, 207.1875);
curveVertex(334, 211.1875);
curveVertex(329, 215.1875);
curveVertex(324, 215.1875);
curveVertex(316, 216.1875);
curveVertex(309, 216.1875);
curveVertex(304, 214.1875);
curveVertex(299, 209.1875);
curveVertex(296, 202.1875);
curveVertex(293, 198.1875);
curveVertex(293, 194.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

          break;

        case 'sad':
          stroke(50,100,200,150); // blau
         beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Lagrimas
vertex(285, 172.1875);
vertex(282, 176.1875);
vertex(282, 181.1875);
vertex(285, 182.1875);
vertex(287, 181.1875);
vertex(287, 174.1875);
vertex(285, 172.1875);
endShape(CLOSE);
beginShape();
vertex(280, 186.1875);
vertex(276, 190.1875);
vertex(274, 194.1875);
vertex(273, 198.1875);
vertex(274, 199.1875);
vertex(277, 199.1875);
vertex(280, 195.1875);
vertex(280, 192.1875);
vertex(280, 188.1875);
vertex(279, 187.1875);
endShape(CLOSE);
beginShape();
vertex(345, 174.1875);
vertex(345, 170.1875);
vertex(347, 171.1875);
vertex(349, 173.1875);
vertex(350, 176.1875);
vertex(349, 178.1875);
vertex(346, 179.1875);
vertex(344, 177.1875);
vertex(344, 176.1875);
endShape(CLOSE);
beginShape();
vertex(345, 174.1875);
vertex(345, 170.1875);
vertex(347, 171.1875);
vertex(349, 173.1875);
vertex(350, 176.1875);
vertex(349, 178.1875);
vertex(346, 179.1875);
vertex(344, 177.1875);
vertex(344, 176.1875);
endShape();
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(304, 223.1875);
curveVertex(308, 213.1875);
curveVertex(313, 209.1875);
curveVertex(319, 205.1875);
curveVertex(326, 205.1875);
curveVertex(332, 205.1875);
curveVertex(337, 208.1875);
curveVertex(342, 213.1875);
curveVertex(345, 219.1875);
curveVertex(345, 221.1875);
curveVertex(341, 221.1875);
curveVertex(339, 219.1875);
curveVertex(337, 215.1875);
curveVertex(333, 213.1875);
curveVertex(329, 212.1875);
curveVertex(323, 212.1875);
curveVertex(319, 214.1875);
curveVertex(314, 218.1875);
curveVertex(311, 221.1875);
curveVertex(309, 224.1875);
curveVertex(305, 225.1875);
curveVertex(304, 224.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

          break;

        case 'angry':
          stroke(200,0,0,150); // vermell
beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(301, 205.1875);
curveVertex(343, 202.1875);
curveVertex(343, 226.1875);
curveVertex(303, 229.1875);
curveVertex(301, 205.1875);
curveVertex(308, 205.1875);
curveVertex(309, 228.1875);
curveVertex(317, 226.1875);
curveVertex(315, 204.1875);
curveVertex(322, 204.1875);
curveVertex(324, 226.1875);
curveVertex(332, 226.1875);
curveVertex(331, 202.1875);
curveVertex(337, 202.1875);
curveVertex(337, 226.1875);
curveVertex(344, 225.1875);
curveVertex(343, 214.1875);
curveVertex(302, 216.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

          break;

        case 'fearful':
          stroke(100,100,100,150); // gris
 beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(295, 193.1875);
curveVertex(299, 197.1875);
curveVertex(304, 201.1875);
curveVertex(311, 201.1875);
curveVertex(319, 202.1875);
curveVertex(327, 201.1875);
curveVertex(336, 198.1875);
curveVertex(342, 192.1875);
curveVertex(342, 195.1875);
curveVertex(341, 203.1875);
curveVertex(338, 207.1875);
curveVertex(334, 211.1875);
curveVertex(329, 215.1875);
curveVertex(324, 215.1875);
curveVertex(316, 216.1875);
curveVertex(309, 216.1875);
curveVertex(304, 214.1875);
curveVertex(299, 209.1875);
curveVertex(296, 202.1875);
curveVertex(293, 198.1875);
curveVertex(293, 194.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

          break;

        case 'surprised':
          stroke(0,150,255,150); // blau clar
         beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(317, 195.1875);
curveVertex(319, 195.1875);
curveVertex(320, 196.1875);
curveVertex(322, 197.1875);
curveVertex(322, 197.1875);
curveVertex(324, 199.1875);
curveVertex(326, 201.1875);
curveVertex(327, 203.1875);
curveVertex(328, 207.1875);
curveVertex(328, 210.1875);
curveVertex(328, 215.1875);
curveVertex(329, 217.1875);
curveVertex(329, 221.1875);
curveVertex(329, 225.1875);
curveVertex(328, 228.1875);
curveVertex(326, 232.1875);
curveVertex(323, 233.1875);
curveVertex(319, 233.1875);
curveVertex(316, 231.1875);
curveVertex(313, 225.1875);
curveVertex(313, 219.1875);
curveVertex(312, 212.1875);
curveVertex(312, 205.1875);
curveVertex(312, 200.1875);
curveVertex(313, 197.1875);
curveVertex(314, 196.1875);
curveVertex(315, 195.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

        break;

        case 'disgusted':
          stroke(0,150,0,150); // verd
         beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(295, 193.1875);
curveVertex(299, 197.1875);
curveVertex(304, 201.1875);
curveVertex(311, 201.1875);
curveVertex(319, 202.1875);
curveVertex(327, 201.1875);
curveVertex(336, 198.1875);
curveVertex(342, 192.1875);
curveVertex(342, 195.1875);
curveVertex(341, 203.1875);
curveVertex(338, 207.1875);
curveVertex(334, 211.1875);
curveVertex(329, 215.1875);
curveVertex(324, 215.1875);
curveVertex(316, 216.1875);
curveVertex(309, 216.1875);
curveVertex(304, 214.1875);
curveVertex(299, 209.1875);
curveVertex(296, 202.1875);
curveVertex(293, 198.1875);
curveVertex(293, 194.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

          break;

        default:
          stroke(150,150,150,150); // gris suau
         beginShape();//Cara
curveVertex(323, 262.1875);
curveVertex(312, 262.1875);
curveVertex(309, 254.1875);
curveVertex(305, 244.1875);
curveVertex(298, 229.1875);
curveVertex(292, 214.1875);
curveVertex(282, 204.1875);
curveVertex(276, 194.1875);
curveVertex(272, 184.1875);
curveVertex(269, 175.1875);
curveVertex(267, 158.1875);
curveVertex(264, 141.1875);
curveVertex(267, 123.1875);
curveVertex(272, 109.1875);
curveVertex(283, 97.1875);
curveVertex(293, 89.1875);
curveVertex(309, 85.1875);
curveVertex(319, 84.1875);
curveVertex(329, 84.1875);
curveVertex(339, 84.1875);
curveVertex(346, 87.1875);
curveVertex(359, 92.1875);
curveVertex(366, 101.1875);
curveVertex(374, 105.1875);
curveVertex(379, 114.1875);
curveVertex(381, 125.1875);
curveVertex(381, 135.1875);
curveVertex(381, 150.1875);
curveVertex(379, 162.1875);
curveVertex(378, 174.1875);
curveVertex(374, 185.1875);
curveVertex(365, 201.1875);
curveVertex(358, 217.1875);
curveVertex(354, 227.1875);
curveVertex(354, 238.1875);
curveVertex(354, 249.1875);
curveVertex(344, 259.1875);
curveVertex(331, 264.1875);
curveVertex(323, 261.1875);
endShape(CLOSE);
beginShape();//Ull esquerre
curveVertex(296, 156.1875);
curveVertex(294, 149.1875);
curveVertex(286, 147.1875);
curveVertex(279, 151.1875);
curveVertex(279, 156.1875);
curveVertex(282, 163.1875);
curveVertex(286, 164.1875);
curveVertex(291, 163.1875);
curveVertex(296, 158.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull esquerre
curveVertex(286, 157.1875);
endShape(CLOSE);
beginShape();//Punt de l'ull dret
curveVertex(343, 158.1875);
endShape();
beginShape();//Ull dret
curveVertex(340, 145.1875);
curveVertex(346, 147.1875);
curveVertex(351, 149.1875);
curveVertex(356, 157.1875);
curveVertex(351, 162.1875);
curveVertex(342, 164.1875);
curveVertex(335, 158.1875);
curveVertex(336, 148.1875);
curveVertex(334, 152.1875);
endShape(CLOSE);
beginShape();//Nas
curveVertex(324, 185.1875);
curveVertex(327, 184.1875);
curveVertex(330, 183.1875);
curveVertex(333, 180.1875);
curveVertex(333, 176.1875);
curveVertex(332, 170.1875);
curveVertex(329, 164.1875);
curveVertex(328, 155.1875);
curveVertex(328, 150.1875);
curveVertex(328, 144.1875);
curveVertex(324, 144.1875);
curveVertex(320, 144.1875);
curveVertex(316, 145.1875);
curveVertex(312, 145.1875);
curveVertex(310, 147.1875);
curveVertex(310, 150.1875);
curveVertex(311, 152.1875);
curveVertex(312, 156.1875);
curveVertex(312, 160.1875);
curveVertex(311, 162.1875);
curveVertex(308, 168.1875);
curveVertex(307, 172.1875);
curveVertex(304, 177.1875);
curveVertex(305, 181.1875);
curveVertex(307, 183.1875);
curveVertex(311, 184.1875);
curveVertex(314, 186.1875);
curveVertex(319, 186.1875);
curveVertex(322, 185.1875);
curveVertex(312, 184.1875);
curveVertex(314, 181.1875);
curveVertex(313, 179.1875);
curveVertex(312, 176.1875);
curveVertex(310, 177.1875);
curveVertex(309, 178.1875);
curveVertex(308, 180.1875);
curveVertex(308, 182.1875);
curveVertex(311, 183.1875);
curveVertex(313, 183.1875);
curveVertex(317, 186.1875);
curveVertex(320, 185.1875);
curveVertex(326, 184.1875);
curveVertex(329, 183.1875);
curveVertex(330, 180.1875);
curveVertex(330, 177.1875);
curveVertex(327, 175.1875);
curveVertex(326, 176.1875);
curveVertex(326, 179.1875);
curveVertex(327, 181.1875);
curveVertex(328, 183.1875);
endShape(); 
beginShape();//Boca
curveVertex(295, 193.1875);
curveVertex(299, 197.1875);
curveVertex(304, 201.1875);
curveVertex(311, 201.1875);
curveVertex(319, 202.1875);
curveVertex(327, 201.1875);
curveVertex(336, 198.1875);
curveVertex(342, 192.1875);
curveVertex(342, 195.1875);
curveVertex(341, 203.1875);
curveVertex(338, 207.1875);
curveVertex(334, 211.1875);
curveVertex(329, 215.1875);
curveVertex(324, 215.1875);
curveVertex(316, 216.1875);
curveVertex(309, 216.1875);
curveVertex(304, 214.1875);
curveVertex(299, 209.1875);
curveVertex(296, 202.1875);
curveVertex(293, 198.1875);
curveVertex(293, 194.1875);
endShape(CLOSE);
beginShape();//Cos
curveVertex(255, 246.1875);
curveVertex(263, 245.1875);
curveVertex(272, 242.1875);
curveVertex(285, 236.1875);
curveVertex(290, 236.1875);
curveVertex(297, 247.1875);
curveVertex(300, 255.1875);
curveVertex(305, 262.1875);
curveVertex(307, 263.1875);
curveVertex(313, 267.1875);
curveVertex(320, 268.1875);
curveVertex(328, 269.1875);
curveVertex(333, 268.1875);
curveVertex(340, 264.1875);
curveVertex(348, 263.1875);
curveVertex(354, 260.1875);
curveVertex(356, 250.1875);
curveVertex(360, 245.1875);
curveVertex(366, 244.1875);
curveVertex(374, 244.1875);
curveVertex(382, 244.1875);
curveVertex(382, 245.1875);
curveVertex(387, 258.1875);
curveVertex(392, 272.1875);
curveVertex(393, 285.1875);
curveVertex(399, 301.1875);
curveVertex(400, 311.1875);
curveVertex(404, 329.1875);
curveVertex(408, 350.1875);
curveVertex(410, 371.1875);
curveVertex(410, 388.1875);
curveVertex(407, 412.1875);
curveVertex(404, 420.1875);
curveVertex(400, 439.1875);
curveVertex(391, 445.1875);
curveVertex(384, 446.1875);
curveVertex(370, 446.1875);
curveVertex(243, 441.1875);
curveVertex(231, 441.1875);
curveVertex(221, 434.1875);
curveVertex(219, 415.1875);
curveVertex(221, 394.1875);
curveVertex(221, 368.1875);
curveVertex(222, 341.1875);
curveVertex(227, 321.1875);
curveVertex(230, 294.1875);
curveVertex(236, 274.1875);
curveVertex(240, 260.1875);
curveVertex(244, 252.1875);
curveVertex(249, 247.1875);
curveVertex(253, 246.1875);
endShape(CLOSE);
beginShape();//manga izquierda
curveVertex(220, 375.1875);
curveVertex(218, 381.1875);
curveVertex(218, 386.1875);
curveVertex(225, 391.1875);
curveVertex(234, 394.1875);
curveVertex(245, 399.1875);
curveVertex(257, 401.1875);
curveVertex(261, 394.1875);
curveVertex(269, 375.1875);
curveVertex(274, 352.1875);
curveVertex(277, 335.1875);
curveVertex(281, 323.1875);
curveVertex(281, 309.1875);
curveVertex(276, 309.1875);
curveVertex(270, 309.1875);
curveVertex(261, 304.1875);
curveVertex(257, 301.1875);
curveVertex(251, 313.1875);
curveVertex(246, 325.1875);
curveVertex(239, 339.1875);
curveVertex(232, 349.1875);
curveVertex(231, 359.1875);
curveVertex(226, 370.1875);
curveVertex(221, 375.1875);
endShape(CLOSE);
beginShape();//Brazo izq
curveVertex(264, 296.1875);
curveVertex(267, 299.1875);
curveVertex(274, 301.1875);
curveVertex(283, 301.1875);
curveVertex(283, 292.1875);
curveVertex(280, 279.1875);
curveVertex(281, 264.1875);
curveVertex(284, 249.1875);
curveVertex(284, 245.1875);
curveVertex(286, 237.1875);
curveVertex(285, 231.1875);
curveVertex(281, 222.1875);
curveVertex(279, 215.1875);
curveVertex(277, 210.1875);
curveVertex(273, 206.1875);
curveVertex(267, 199.1875);
curveVertex(263, 187.1875);
curveVertex(259, 175.1875);
curveVertex(255, 161.1875);
curveVertex(254, 152.1875);
curveVertex(252, 141.1875);
curveVertex(252, 133.1875);
curveVertex(252, 125.1875);
curveVertex(246, 129.1875);
curveVertex(241, 133.1875);
curveVertex(241, 138.1875);
curveVertex(241, 148.1875);
curveVertex(241, 158.1875);
curveVertex(241, 171.1875);
curveVertex(243, 182.1875);
curveVertex(244, 186.1875);
curveVertex(246, 193.1875);
curveVertex(248, 198.1875);
curveVertex(250, 202.1875);
curveVertex(254, 210.1875);
curveVertex(258, 220.1875);
curveVertex(262, 229.1875);
curveVertex(262, 232.1875);
curveVertex(262, 241.1875);
curveVertex(263, 249.1875);
curveVertex(266, 254.1875);
curveVertex(264, 271.1875);
curveVertex(262, 285.1875);
curveVertex(262, 295.1875);
endShape(CLOSE);
beginShape();//Manga derecha
curveVertex(372, 294.1875);
curveVertex(378, 297.1875);
curveVertex(381, 297.1875);
curveVertex(383, 293.1875);
curveVertex(387, 288.1875);
curveVertex(390, 293.1875);
curveVertex(393, 304.1875);
curveVertex(393, 315.1875);
curveVertex(394, 324.1875);
curveVertex(395, 334.1875);
curveVertex(398, 347.1875);
curveVertex(399, 359.1875);
curveVertex(401, 368.1875);
curveVertex(403, 378.1875);
curveVertex(406, 393.1875);
curveVertex(406, 404.1875);
curveVertex(399, 414.1875);
curveVertex(389, 416.1875);
curveVertex(381, 394.1875);
curveVertex(377, 380.1875);
curveVertex(377, 361.1875);
curveVertex(376, 345.1875);
curveVertex(376, 327.1875);
curveVertex(374, 307.1875);
curveVertex(372, 296.1875);
endShape(CLOSE);
beginShape();//Mano drch
curveVertex(371, 286.1875);
curveVertex(376, 292.1875);
curveVertex(381, 292.1875);
curveVertex(384, 287.1875);
curveVertex(382, 273.1875);
curveVertex(378, 262.1875);
curveVertex(378, 243.1875);
curveVertex(382, 227.1875);
curveVertex(386, 217.1875);
curveVertex(390, 208.1875);
curveVertex(394, 197.1875);
curveVertex(397, 186.1875);
curveVertex(398, 174.1875);
curveVertex(398, 158.1875);
curveVertex(398, 145.1875);
curveVertex(394, 134.1875);
curveVertex(391, 129.1875);
curveVertex(389, 129.1875);
curveVertex(388, 134.1875);
curveVertex(388, 147.1875);
curveVertex(387, 157.1875);
curveVertex(384, 168.1875);
curveVertex(382, 186.1875);
curveVertex(380, 195.1875);
curveVertex(378, 201.1875);
curveVertex(373, 210.1875);
curveVertex(367, 217.1875);
curveVertex(367, 232.1875);
curveVertex(366, 249.1875);
curveVertex(366, 257.1875);
curveVertex(366, 265.1875);
curveVertex(368, 276.1875);
curveVertex(370, 285.1875);
curveVertex(370, 285.1875);
endShape(CLOSE);

      }
    // Funció per dibuixar el Heads-Up Display (HUD) amb informació sobre l'expressió detectada.
    function drawHUD() {
      // Extrau la informació de l'expressió actual: la clau dominant i la seva intensitat.
      const { dominant, intensity } = currentExpression;
      
      // Definim un objecte que mapeja cada expressió amb un emoticona i una descripció en català.
      const traduccions = {
        happy: "😃 Feliç",
        sad: "😢 Trist",
        angry: "😡 Enfadat",
        surprised: "😲 Sorprès",
        disgusted: "🤢 Fastiguejat",
        neutral: "😐 Neutral",
        fearful: "😨 Espantat" // Tot i que la por no es gestiona amb un dibuix específic, es mostra aquí.
      };

      // Selecciona l'emoticona i text a partir de l'expressió dominant, per defecte utilitza "Neutral".
      const emoticon = traduccions[dominant] || "😐 Neutral";      
      noStroke(); // No dibuixem contorns al text.
      fill(50, 150, 255); // Defineix el color del text.
      // Ajusta la mida del text de forma responsive segons l'amplada de la finestra.
      textSize(map(width, 300, 1200, 16, 24));
      textAlign(CENTER, TOP); // Centra horizontalment el text i el posiciona a la part superior.
      // Dibuixa el text amb l'emoticona i la intensitat (convertida a percentatge) a la part superior central.
      text(`${emoticon} (${floor(intensity * 100)}%)`, width / 2, 20);
    }

    // Funció per dibuixar una petita previsualització del vídeo a la cantonada inferior dreta.
    function drawVideoPreview() {
      // Calcula el tamany de la previsualització basant-se en la mida mínima de la finestra.
      const previewSize = min(width, height) * 0.15;
      // Dibuixa la imatge de la càmera en la posició desitjada (10 píxels d'espai a la dreta i a baix).
      image(video,
        width - previewSize - 10,  // Posició horitzontal (a la dreta).
        height - previewSize - 10, // Posició vertical (a baix).
        previewSize,             // Amplada de la previsualització.
        previewSize              // Alçada de la previsualització.
      );
    }

    // Sol·licitem accés a la càmera del dispositiu. Si hi ha un error (per exemple, l'usuari el rebutja),
    // es mostrarà un missatge d'error a la pantalla de càrrega.
    navigator.mediaDevices.getUserMedia({ video: true })
      .catch(err => {
        // En cas d'error, actualitza el contingut de la pantalla de càrrega amb una notificació d'error.
        document.getElementById('loading-screen').innerHTML = `
          <p style="color: red; text-align: center">
            Error de càmera!<br>
            Permet l'accés a la càmera i actualitza.
          </p>
        `;
      });
  </script>
</body>
</html>
